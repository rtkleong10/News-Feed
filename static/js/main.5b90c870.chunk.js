(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(11)},11:function(e,t,a){"use strict";a.r(t);var r=a(2),n=a(3),s=a(5),c=a(4),o=a(6),i=a(1),u=a(0),l=a.n(u),m=a(8),h=a.n(m),p=a(9),g=a.n(p),w=(a(17),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).state={currentSource:a.props.sources[0],currentCategory:a.props.sources[0].categories[0]},a.onChangeSource=a.onChangeSource.bind(Object(i.a)(Object(i.a)(a))),a.onChangeCategory=a.onChangeCategory.bind(Object(i.a)(Object(i.a)(a))),a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"onChangeSource",value:function(e){var t=this.props.sources;for(var a in t){t[a].sourceName===e&&this.setState({currentSource:t[a],currentCategory:t[a].categories[0]})}}},{key:"onChangeCategory",value:function(e){var t=this.state.currentSource.categories;for(var a in t){t[a].categoryName===e&&this.setState({currentCategory:t[a]})}}},{key:"render",value:function(){var e=this.props.sources,t=this.state.currentCategory.url;return l.a.createElement("div",null,l.a.createElement("header",null,l.a.createElement("div",{className:"container"},l.a.createElement("h1",null,"News Feed"),l.a.createElement(y,{sources:e,currentSource:this.state.currentSource,onChangeSource:this.onChangeSource,onChangeCategory:this.onChangeCategory}))),l.a.createElement("section",null,l.a.createElement("div",{className:"container"},l.a.createElement(C,{url:t,currentSourceName:this.state.currentSource.sourceName}))))}}]),t}(l.a.Component)),y=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this.props.sources,t=[],a=[];for(var r in e){var n=e[r].sourceName;if(t.push(n),n===this.props.currentSource.sourceName){var s=e[r].categories;for(var c in s){var o=s[c].categoryName;a.push(o)}}}return l.a.createElement("div",null,l.a.createElement(b,{sourceNames:t,onChangeSource:this.props.onChangeSource}),l.a.createElement(f,{categoryNames:a,onChangeCategory:this.props.onChangeCategory,currentSourceName:this.props.currentSource.sourceName}))}}]),t}(l.a.Component),b=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).onChangeSource=a.onChangeSource.bind(Object(i.a)(Object(i.a)(a))),a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"onChangeSource",value:function(e){this.props.onChangeSource(e.target.value)}},{key:"render",value:function(){var e=this.props.sourceNames,t=[];return e.forEach(function(e){t.push(l.a.createElement("option",{name:e,key:e},e))}),l.a.createElement("div",null,l.a.createElement("label",null,"Source: "),l.a.createElement("select",{name:"sourceNames",onChange:this.onChangeSource},t))}}]),t}(l.a.Component),f=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).onChangeCategory=a.onChangeCategory.bind(Object(i.a)(Object(i.a)(a))),a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"onChangeCategory",value:function(e){this.props.onChangeCategory(e.target.value)}},{key:"render",value:function(){var e=this.props.currentSourceName,t=this.props.categoryNames,a=[];return t.forEach(function(t){a.push(l.a.createElement("option",{name:t,key:e+" "+t},t))}),l.a.createElement("div",null,l.a.createElement("label",null,"Category: "),l.a.createElement("select",{name:"categoryNames",onChange:this.onChangeCategory},a))}}]),t}(l.a.Component),C=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).state={articleItems:[],loading:!0},a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"fetchDataFromUrl",value:function(e){g.a.ajax({type:"GET",url:"https://cors-anywhere.herokuapp.com/"+e,dataType:"xml",success:function(e){this.setState({articleItems:e.getElementsByTagName("item"),loading:!1})}.bind(this),error:function(t,a,r){console.error(e,a,r.toString())}})}},{key:"componentDidMount",value:function(){this.fetchDataFromUrl(this.props.url)}},{key:"componentWillReceiveProps",value:function(e){this.props!==e&&(this.setState({loading:!0}),this.fetchDataFromUrl(e.url))}},{key:"render",value:function(){if(this.state.loading)return l.a.createElement("div",null,l.a.createElement("div",{className:"loader"}));for(var e=this.state.articleItems,t=[],a=0;a<e.length;a++){var r=e[a],n=r.children[0].textContent;t.push(l.a.createElement(v,{article:r,currentSourceName:this.props.currentSourceName,key:n}))}return 0===t.length?l.a.createElement("div",null,l.a.createElement("p",null,"Sorry, no articles found for that category.")):l.a.createElement("div",{className:"article-list"},t)}}]),t}(l.a.Component),v=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(n.a)(t,[{key:"escapeLinks",value:function(e){var t=e.search("<a"),a=[],r=0;if(-1!==t){for(;-1!==t;){var n=e.substring(0,t);0!==t&&a.push(n);var s,c,o=e.search("target"),i=e.search("</a>");if(-1!==o&&o<i)s=e.substring(t+9,o-2),c=e.substring(o+16,i);else{var u=e.search(">");s=e.substring(t+9,u-1),c=e.substring(u+1,i)}a.push(l.a.createElement("a",{href:s,target:"_blank",key:r},c)),t=(e=e.substring(i+4)).search("<a"),r++}return""!==e&&a.push(e),a}return a.push(e),a}},{key:"render",value:function(){var e,t,a,r=this.props.article,n=r.getElementsByTagName("title")[0].textContent,s=r.getElementsByTagName("link")[0].textContent;switch(this.props.currentSourceName){case"Straits Times":var c=r.getElementsByTagName("description")[0];null!=c&&(e=c.textContent.split("<br /><br />")[0],t=c.textContent.split("<br /><br />")[1],a=this.escapeLinks(t));break;case"Channel News Asia":e=r.getElementsByTagName("pubDate")[0].textContent,null!=r.getElementsByTagName("description")[0]&&(t=r.getElementsByTagName("description")[0].textContent,a=this.escapeLinks(t))}return l.a.createElement("div",{className:"article"},l.a.createElement("a",{href:s,target:"_blank"},l.a.createElement("h2",null,n)),l.a.createElement("p",null,l.a.createElement("small",null,e)),l.a.createElement("p",null,a))}}]),t}(l.a.Component);h.a.render(l.a.createElement(w,{sources:[{sourceName:"Straits Times",categories:[{categoryName:"Lifestyle",url:"http://www.straitstimes.com/news/lifestyle/rss.xml"},{categoryName:"Politics",url:"http://www.straitstimes.com/news/politics/rss.xml"},{categoryName:"Forum",url:"http://www.straitstimes.com/news/forum/rss.xml"},{categoryName:"Business",url:"http://www.straitstimes.com/news/business/rss.xml"},{categoryName:"Opinion",url:"http://www.straitstimes.com/news/opinion/rss.xml"},{categoryName:"Asia",url:"http://www.straitstimes.com/news/asia/rss.xml"},{categoryName:"Multimedia",url:"http://www.straitstimes.com/news/multimedia/rss.xml"},{categoryName:"Sport",url:"http://www.straitstimes.com/news/sport/rss.xml"},{categoryName:"Singapore",url:"http://www.straitstimes.com/news/singapore/rss.xml"},{categoryName:"Tech",url:"http://www.straitstimes.com/news/tech/rss.xml"},{categoryName:"World",url:"http://www.straitstimes.com/news/world/rss.xml"}]},{sourceName:"Channel News Asia",categories:[{categoryName:"Latest News",url:"http://www.channelnewsasia.com/rssfeeds/8395986"},{categoryName:"Asia Pacific",url:"http://www.channelnewsasia.com/rssfeeds/8395744"},{categoryName:"Business",url:"http://www.channelnewsasia.com/rssfeeds/8395954"},{categoryName:"Singapore",url:"http://www.channelnewsasia.com/rssfeeds/8396082"},{categoryName:"Sport",url:"http://www.channelnewsasia.com/rssfeeds/8395838"}]}]}),document.getElementById("root"))},17:function(e,t,a){}},[[10,2,1]]]);
//# sourceMappingURL=main.5b90c870.chunk.js.map